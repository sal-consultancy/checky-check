{
    "user": "ansible",
    "key": "/Users/sjoerd/id_ansible_rsa_host_ssdnodes",
    "host_defaults": {
        "host_vars": {
            "sap_sid": "ssh"
        },
        "host_checks":[
            "uptime_check",
            "firewall_running"
        ]
    },
    "host_templates":{
        "sap_host_v1": {
            "host_vars": {
                "sap_type": "webdisp",
                "sap_sid": "host_v1"
            },
            "host_checks": [
                "kernel_version"
            ]
        }
    },
    "checks": {
        "uptime_check": {
            "command": "uptime | awk '{print $3}'",
            "fail_when": "<",
            "fail_value": "100"
        },
        "kernel_version": {
            "command":"uname -r",
            "fail_when": "!=",
            "fail_value": "5.15.0-97-generic"
        },
        "firewall_running": {
            "service": "ufw",
            "fail_when": "=",
            "fail_value": "0"
        },
        "sap_running": {
            "command": "ps -ef | grep ${sap_sid} | grep -v grep| wc -l",
            "fail_when": "<",
            "fail_value": "2"
        },
        "echo_var_check":{
            "command": "echo hallo ${sap_sid}",
            "fail_when": "!=",
            "fail_value": "hallo" 
        }
    },
    
    "hosts": {
        "lala1.apps.salconsultancy.com": {
            "host_template": "sap_host_v1",
            "host_checks": [
                "sap_running",
                "echo_var_check",
                "uptime_check"            
            ]
        },
        "lala2.apps.salconsultancy.com": {
            "host_template": "sap_host_v1",
            "host_vars": {
                "sap_sid":"zabbix"
            },
            "host_checks": [
                "sap_running",
                "echo_var_check"
            ]
        }
    }
}